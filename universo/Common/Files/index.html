<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Files (universo.Common.Files)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">universo</a> &#x00BB; <a href="../index.html">Common</a> &#x00BB; Files</nav><header class="odoc-preamble"><h1>Module <code><span>Common.Files</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-B" class="anchored"><a href="#module-B" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>B</span><span> = <a href="../../../dedukti/Kernel/Basic/index.html">Kernel.Basic</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-S" class="anchored"><a href="#module-S" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>S</span><span> = <a href="../../../dedukti/Kernel/Signature/index.html">Kernel.Signature</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-P" class="anchored"><a href="#module-P" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>P</span><span> = <a href="../../../dedukti/Parsers/Parser/index.html">Parsers.Parser</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-Processor" class="anchored"><a href="#module-Processor" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>Processor</span><span> = <a href="../../../dedukti/Api/Processor/index.html">Api.Processor</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-path" class="anchored"><a href="#type-path" class="anchor"></a><code><span><span class="keyword">type</span> path</span><span> = string</span></code></div><div class="spec-doc"><p>path to a file</p></div></div><div class="odoc-spec"><div class="spec type" id="type-cin" class="anchored"><a href="#type-cin" class="anchor"></a><code><span><span class="keyword">type</span> cin</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-cout" class="anchored"><a href="#type-cout" class="anchor"></a><code><span><span class="keyword">type</span> cout</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-channel" class="anchored"><a href="#type-channel" class="anchor"></a><code><span><span class="keyword">type</span> <span>_ channel</span></span><span> = </span></code><table><tr id="type-channel.In" class="anchored"><td class="def variant constructor"><a href="#type-channel.In" class="anchor"></a><code><span>| </span><span><span class="constructor">In</span> : <span class="xref-unresolved">Stdlib</span>.in_channel <span class="arrow">&#45;&gt;</span> <span><a href="#type-cin">cin</a> <a href="#type-channel">channel</a></span></span></code></td></tr><tr id="type-channel.Out" class="anchored"><td class="def variant constructor"><a href="#type-channel.Out" class="anchor"></a><code><span>| </span><span><span class="constructor">Out</span> : <span class="xref-unresolved">Stdlib</span>.out_channel * <span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span> <span><a href="#type-cout">cout</a> <a href="#type-channel">channel</a></span></span></code></td></tr></table></div><div class="spec-doc"><p>Gather out_channel and in_channel in a GADT for input and output files. In the case of an output file, we store also the formatter associated with.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = </span><span>{</span></code><table><tr id="type-t.path" class="anchored"><td class="def record field"><a href="#type-t.path" class="anchor"></a><code><span>path : <a href="#type-path">path</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Path to the current file</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.md" class="anchored"><td class="def record field"><a href="#type-t.md" class="anchor"></a><code><span>md : <a href="../../../dedukti/Kernel/Basic/index.html#type-mident">B.mident</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Md of this file</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.channel" class="anchored"><td class="def record field"><a href="#type-t.channel" class="anchor"></a><code><span>channel : <span><span class="type-var">'a</span> <a href="#type-channel">channel</a></span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>OCaml channel to this file</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-output_directory" class="anchored"><a href="#val-output_directory" class="anchor"></a><code><span><span class="keyword">val</span> output_directory : <span><span>string option</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Output directory where output files are created</p></div></div><div class="odoc-spec"><div class="spec value" id="val-simplify_directory" class="anchored"><a href="#val-simplify_directory" class="anchor"></a><code><span><span class="keyword">val</span> simplify_directory : <span><span>string option</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Simplify directory where simplified files are created.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-elaboration_suffix" class="anchored"><a href="#val-elaboration_suffix" class="anchor"></a><code><span><span class="keyword">val</span> elaboration_suffix : string</span></code></div><div class="spec-doc"><p>Suffix used for files containing universe declarations</p></div></div><div class="odoc-spec"><div class="spec value" id="val-checking_suffix" class="anchored"><a href="#val-checking_suffix" class="anchor"></a><code><span><span class="keyword">val</span> checking_suffix : string</span></code></div><div class="spec-doc"><p>Suffix used for files containing universe constraints</p></div></div><div class="odoc-spec"><div class="spec value" id="val-solution_suffix" class="anchored"><a href="#val-solution_suffix" class="anchor"></a><code><span><span class="keyword">val</span> solution_suffix : string</span></code></div><div class="spec-doc"><p>Suffix used for files containing universe solution</p></div></div><div class="odoc-spec"><div class="spec value" id="val-normal_suffix" class="anchored"><a href="#val-normal_suffix" class="anchor"></a><code><span><span class="keyword">val</span> normal_suffix : string</span></code></div><div class="spec-doc"><p>Suffix used for elaborated file where sorts are replaced by fresh variables</p></div></div><div class="odoc-spec"><div class="spec type" id="type-step" class="anchored"><a href="#type-step" class="anchor"></a><code><span><span class="keyword">type</span> step</span><span> = </span><span>[ </span></code><table><tr id="type-step.Input" class="anchored"><td class="def constructor"><a href="#type-step.Input" class="anchor"></a><code><span>| </span></code><code><span>`Input</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Input module</p><span class="comment-delim">*)</span></td></tr><tr id="type-step.Output" class="anchored"><td class="def constructor"><a href="#type-step.Output" class="anchor"></a><code><span>| </span></code><code><span>`Output</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Output module</p><span class="comment-delim">*)</span></td></tr><tr id="type-step.Elaboration" class="anchored"><td class="def constructor"><a href="#type-step.Elaboration" class="anchor"></a><code><span>| </span></code><code><span>`Elaboration</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>File with universe declarations</p><span class="comment-delim">*)</span></td></tr><tr id="type-step.Checking" class="anchored"><td class="def constructor"><a href="#type-step.Checking" class="anchor"></a><code><span>| </span></code><code><span>`Checking</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>File with constraints</p><span class="comment-delim">*)</span></td></tr><tr id="type-step.Solution" class="anchored"><td class="def constructor"><a href="#type-step.Solution" class="anchor"></a><code><span>| </span></code><code><span>`Solution</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>File containing the solution</p><span class="comment-delim">*)</span></td></tr><tr id="type-step.Simplify" class="anchored"><td class="def constructor"><a href="#type-step.Simplify" class="anchor"></a><code><span>| </span></code><code><span>`Simplify</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Output file where the variables are replaced by the solution</p><span class="comment-delim">*)</span></td></tr></table><code><span> ]</span></code></div><div class="spec-doc"><p>The steps used to refer the files used by Universo</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_suffix" class="anchored"><a href="#val-add_suffix" class="anchor"></a><code><span><span class="keyword">val</span> add_suffix : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>add_sufix file suffix</code> returns the string <code>file'</code> where suffix is_added at then end of <code>file</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_dir" class="anchored"><a href="#val-add_dir" class="anchor"></a><code><span><span class="keyword">val</span> add_dir : <span>string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>add_dir dir file</code> prefix the filename <code>file</code> with the directory <code>dir</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_dir" class="anchored"><a href="#val-mk_dir" class="anchor"></a><code><span><span class="keyword">val</span> mk_dir : <span><span><span>string option</span> <span class="xref-unresolved">Stdlib</span>.ref</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-suffix_of_step" class="anchored"><a href="#val-suffix_of_step" class="anchor"></a><code><span><span class="keyword">val</span> suffix_of_step : <span><a href="#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>return the suffix according to the step <code>s</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-theory" class="anchored"><a href="#val-theory" class="anchor"></a><code><span><span class="keyword">val</span> theory : <span><span>string option</span> <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_theory" class="anchored"><a href="#val-mk_theory" class="anchor"></a><code><span><span class="keyword">val</span> mk_theory : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_theory" class="anchored"><a href="#val-get_theory" class="anchor"></a><code><span><span class="keyword">val</span> get_theory : <span>unit <span class="arrow">&#45;&gt;</span></span> string</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_out_path" class="anchored"><a href="#val-get_out_path" class="anchor"></a><code><span><span class="keyword">val</span> get_out_path : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-path">path</a></span></code></div><div class="spec-doc"><p><code>get_out_path p s</code> returns the path that corresponds to the step <code>s</code> for path <code>p</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-out_from_string" class="anchored"><a href="#val-out_from_string" class="anchor"></a><code><span><span class="keyword">val</span> out_from_string : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-cout">cout</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>from_string f s</code> returns the filename that corresponds to the step <code>s</code> for file <code>f</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-in_from_string" class="anchored"><a href="#val-in_from_string" class="anchor"></a><code><span><span class="keyword">val</span> in_from_string : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-cin">cin</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>from_string f s</code> returns the filename that corresponds to the step <code>s</code> for file <code>f</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-fmt_of_file" class="anchored"><a href="#val-fmt_of_file" class="anchor"></a><code><span><span class="keyword">val</span> fmt_of_file : <span><span><a href="#type-cout">cout</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.Format.formatter</span></code></div><div class="spec-doc"><p><code>fmt_of_file out_file</code> returns the formatter associated to an <code>out_file</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-in_channel_of_file" class="anchored"><a href="#val-in_channel_of_file" class="anchor"></a><code><span><span class="keyword">val</span> in_channel_of_file : <span><span><a href="#type-cin">cin</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Stdlib</span>.in_channel</span></code></div><div class="spec-doc"><p><code>in_channel_of_file in_file</code> returns the channel associated to an <code>in_file</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-close" class="anchored"><a href="#val-close" class="anchor"></a><code><span><span class="keyword">val</span> close : a. <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>close file</code> closes <code>file</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-md_of" class="anchored"><a href="#val-md_of" class="anchor"></a><code><span><span class="keyword">val</span> md_of : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../dedukti/Kernel/Basic/index.html#type-mident">B.mident</a></span></code></div><div class="spec-doc"><p><code>md_of path step</code> returns the mident associated to the Universo file <code>file</code> for step <code>step</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_requires" class="anchored"><a href="#val-add_requires" class="anchor"></a><code><span><span class="keyword">val</span> add_requires : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../../dedukti/Kernel/Basic/index.html#type-mident">B.mident</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec type extension" id="extension-decl-FilterSignature" class="anchored"><a href="#extension-decl-FilterSignature" class="anchor"></a><code><span><span class="keyword">type</span> <a href="../../../dedukti/Api/Processor/index.html#type-t">Processor.t</a> += </span></code><table><tr id="extension-FilterSignature" class="anchored"><td class="def extension"><a href="#extension-FilterSignature" class="anchor"></a><code><span>| </span><span><span class="extension">FilterSignature</span> : <span><a href="../../../dedukti/Api/Env/index.html#type-t">Api.Env.t</a> <a href="../../../dedukti/Api/Processor/index.html#type-t">Processor.t</a></span></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-export" class="anchored"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : <span><a href="#type-path">path</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-step">step</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>