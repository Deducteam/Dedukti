<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>E (dedukti.Api.Processor.MakeDependencies.1-E)</title><link rel="stylesheet" href="../../../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../index.html">dedukti</a> &#x00BB; <a href="../../../index.html">Api</a> &#x00BB; <a href="../../index.html">Processor</a> &#x00BB; <a href="../index.html">MakeDependencies</a> &#x00BB; 1-E</nav><header class="odoc-preamble"><h1>Parameter <code><span>MakeDependencies.1-E</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#error-datatype">Error Datatype</a></li><li><a href="#debugging">Debugging</a></li><li><a href="#utilities">Utilities</a></li><li><a href="#the-global-environment">The Global Environment</a></li><li><a href="#type-checking/inference">Type checking/inference</a></li><li><a href="#safe-reduction/conversion">Safe Reduction/Conversion</a></li></ul></nav><div class="odoc-content"><h3 id="error-datatype"><a href="#error-datatype" class="anchor"></a>Error Datatype</h3><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="../../../Env/index.html#type-t">Env.t</a></span></code></div><div class="spec-doc"><p>An environment is created from a <code>Parser</code>.input. Environment is the module which interacts with the kernel. An environment allows you to change at runtime the reduction engine and the printer. The current version of Dedukti offers you one reduction engine, but this feature is mainly aim to be used with the <code>dkmeta</code> tool. The printer of <code>Env</code> is different from <code>Pp</code> in a sense that the module of a constant is not printed if it is the same as the current module.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-dummy" class="anchored"><a href="#val-dummy" class="anchor"></a><code><span><span class="keyword">val</span> dummy : <span>?md:<a href="../../../../Kernel/Basic/index.html#type-mident">Kernel.Basic.mident</a> <span class="arrow">&#45;&gt;</span></span> <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>dummy ?m ()</code> returns a dummy environment. If <code>m</code> is provided, the environment is built from module <code>m</code>, but without file.</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-Env_error" class="anchored"><a href="#exception-Env_error" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">Env_error</span> <span class="keyword">of</span> <a href="#type-t">t</a> * <a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> * exn</span></code></div></div><h3 id="debugging"><a href="#debugging" class="anchor"></a>Debugging</h3><div class="odoc-spec"><div class="spec exception" id="exception-DebugFlagNotRecognized" class="anchored"><a href="#exception-DebugFlagNotRecognized" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">DebugFlagNotRecognized</span> <span class="keyword">of</span> char</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-set_debug_mode" class="anchored"><a href="#val-set_debug_mode" class="anchor"></a><code><span><span class="keyword">val</span> set_debug_mode : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Sets multiple debugging flags from a string: q : disables d_Warn n : enables d_Notice o : enables d_Module c : enables d_Confluence u : enables d_Rule t : enables d_TypeChecking r : enables d_Reduce m : enables d_Matching May raise DebugFlagNotRecognized.</p></div></div><h3 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h3><div class="odoc-spec"><div class="spec value" id="val-check_arity" class="anchored"><a href="#val-check_arity" class="anchor"></a><code><span><span class="keyword">val</span> check_arity : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Flag to check for variables arity. Default is true.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-check_ll" class="anchored"><a href="#val-check_ll" class="anchor"></a><code><span><span class="keyword">val</span> check_ll : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div><div class="spec-doc"><p>Flag to check for rules left linearity. Default is false</p></div></div><h3 id="the-global-environment"><a href="#the-global-environment" class="anchor"></a>The Global Environment</h3><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span><a href="../../../../Parsers/Parser/index.html#type-input">Parsers.Parser.input</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>init input</code> initializes a new global environement from the <code>input</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_input" class="anchored"><a href="#val-get_input" class="anchor"></a><code><span><span class="keyword">val</span> get_input : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Parsers/Parser/index.html#type-input">Parsers.Parser.input</a></span></code></div><div class="spec-doc"><p><code>get_input env</code> returns the input used to create <code>env</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_filename" class="anchored"><a href="#val-get_filename" class="anchor"></a><code><span><span class="keyword">val</span> get_filename : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>get_input env</code> returns the filename associated to the input of <code>env</code>. We return a fake filename if the input was not create from a filename.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_signature" class="anchored"><a href="#val-get_signature" class="anchor"></a><code><span><span class="keyword">val</span> get_signature : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Signature/index.html#type-t">Kernel.Signature.t</a></span></code></div><div class="spec-doc"><p><code>get_signature env</code> returns the signature used by this module.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_name" class="anchored"><a href="#val-get_name" class="anchor"></a><code><span><span class="keyword">val</span> get_name : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Basic/index.html#type-mident">Kernel.Basic.mident</a></span></code></div><div class="spec-doc"><p><code>get_name env</code> returns the name of the module.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_reduction_engine" class="anchored"><a href="#val-set_reduction_engine" class="anchor"></a><code><span><span class="keyword">val</span> set_reduction_engine : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="keyword">module</span> <a href="../../../../Kernel/Reduction/module-type-S/index.html">Kernel.Reduction.S</a>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p><code>set_reduction_egine env</code> changes the reduction engine of <code>env</code>. The new environment shares the same signature than <code>env</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_reduction_engine" class="anchored"><a href="#val-get_reduction_engine" class="anchor"></a><code><span><span class="keyword">val</span> get_reduction_engine : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>(<span class="keyword">module</span> <a href="../../../../Kernel/Reduction/module-type-S/index.html">Kernel.Reduction.S</a>)</span></span></code></div><div class="spec-doc"><p><code>get_reduction_engine env</code> returns the reduction engine of <code>env</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_printer" class="anchored"><a href="#val-get_printer" class="anchor"></a><code><span><span class="keyword">val</span> get_printer : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>(<span class="keyword">module</span> <a href="../../../Pp/module-type-Printer/index.html">Pp.Printer</a>)</span></span></code></div><div class="spec-doc"><p><code>get_print env</code> returns a pretty printer associated to <code>env</code></p></div></div><div class="odoc-spec"><div class="spec module" id="module-HName" class="anchored"><a href="#module-HName" class="anchor"></a><code><span><span class="keyword">module</span> </span><span>HName</span><span> : <span class="xref-unresolved">Stdlib</span>.Hashtbl.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">key</span> = <span class="xref-unresolved">Kernel</span>.Basic.name</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_symbols" class="anchored"><a href="#val-get_symbols" class="anchor"></a><code><span><span class="keyword">val</span> get_symbols : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Signature/index.html#type-rw_infos">Kernel.Signature.rw_infos</a> <span class="xref-unresolved">HName</span>.t</span></span></code></div><div class="spec-doc"><p><code>get_symbols env</code> returns the content of the signature <code>sg</code>. Each <code>name</code> in the current signature is associated to a <code>rw_infos</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_type" class="anchored"><a href="#val-get_type" class="anchor"></a><code><span><span class="keyword">val</span> get_type : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-name">Kernel.Basic.name</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a></span></code></div><div class="spec-doc"><p><code>get_type env l md id</code> returns the type of the constant <code>md.id</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_injective" class="anchored"><a href="#val-is_injective" class="anchor"></a><code><span><span class="keyword">val</span> is_injective : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-name">Kernel.Basic.name</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_injective env l cst</code> returns <code>true</code> if the symbol is declared as <code>static</code> or <code>injective</code>, <code>false</code> otherwise</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_static" class="anchored"><a href="#val-is_static" class="anchor"></a><code><span><span class="keyword">val</span> is_static : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-name">Kernel.Basic.name</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_static env l cst</code> returns <code>true</code> if the symbol is declared as <code>static</code>, <code>false</code> otherwise</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_dtree" class="anchored"><a href="#val-get_dtree" class="anchor"></a><code><span><span class="keyword">val</span> get_dtree : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-name">Kernel.Basic.name</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Dtree/index.html#type-t">Kernel.Dtree.t</a></span></code></div><div class="spec-doc"><p><code>get_dtree env l md id</code> returns the decision/matching tree associated with <code>md.id</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-export" class="anchored"><a href="#val-export" class="anchor"></a><code><span><span class="keyword">val</span> export : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>export env</code> saves the current environment in a <code>*.dko</code> file.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-import" class="anchored"><a href="#val-import" class="anchor"></a><code><span><span class="keyword">val</span> import : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-mident">Kernel.Basic.mident</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>import env lc md</code> the module <code>md</code> in the current environment.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-declare" class="anchored"><a href="#val-declare" class="anchor"></a><code><span><span class="keyword">val</span> declare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-ident">Kernel.Basic.ident</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Signature/index.html#type-scope">Kernel.Signature.scope</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Signature/index.html#type-staticity">Kernel.Signature.staticity</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>declare_constant env l id st ty</code> declares the symbol <code>id</code> of type <code>ty</code> and staticity <code>st</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-define" class="anchored"><a href="#val-define" class="anchor"></a><code><span><span class="keyword">val</span> define : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-ident">Kernel.Basic.ident</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Signature/index.html#type-scope">Kernel.Signature.scope</a> <span class="arrow">&#45;&gt;</span></span> <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> option</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>define env l id scope body ty</code> defines the symbol <code>id</code> of type <code>ty</code> to be an alias of <code>body</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_rules" class="anchored"><a href="#val-add_rules" class="anchor"></a><code><span><span class="keyword">val</span> add_rules : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../../../Kernel/Rule/index.html#type-partially_typed_rule">Kernel.Rule.partially_typed_rule</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../../../Kernel/Exsubst/ExSubst/index.html#type-t">Kernel.Exsubst.ExSubst.t</a> * <a href="../../../../Kernel/Rule/index.html#type-typed_rule">Kernel.Rule.typed_rule</a>)</span> list</span></span></code></div><div class="spec-doc"><p><code>add_rules env rule_lst</code> adds a list of rule to a symbol. All rules must be on the same symbol.</p></div></div><h3 id="type-checking/inference"><a href="#type-checking/inference" class="anchor"></a>Type checking/inference</h3><div class="odoc-spec"><div class="spec value" id="val-infer" class="anchored"><a href="#val-infer" class="anchor"></a><code><span><span class="keyword">val</span> infer : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?ctx:<a href="../../../../Kernel/Term/index.html#type-typed_context">Kernel.Term.typed_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a></span></code></div><div class="spec-doc"><p><code>infer env ctx term</code> infers the type of <code>term</code> given the typed context <code>ctx</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-check" class="anchored"><a href="#val-check" class="anchor"></a><code><span><span class="keyword">val</span> check : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?ctx:<a href="../../../../Kernel/Term/index.html#type-typed_context">Kernel.Term.typed_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>infer env ctx te ty</code> checks that <code>te</code> is of type <code>ty</code> given the typed context <code>ctx</code></p></div></div><h3 id="safe-reduction/conversion"><a href="#safe-reduction/conversion" class="anchor"></a>Safe Reduction/Conversion</h3><p>terms are typechecked before the reduction/conversion</p><div class="odoc-spec"><div class="spec value" id="val-reduction" class="anchored"><a href="#val-reduction" class="anchor"></a><code><span><span class="keyword">val</span> reduction : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?ctx:<a href="../../../../Kernel/Term/index.html#type-typed_context">Kernel.Term.typed_context</a> <span class="arrow">&#45;&gt;</span></span> <span>?red:<a href="../../../../Kernel/Reduction/index.html#type-red_cfg">Kernel.Reduction.red_cfg</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a></span></code></div><div class="spec-doc"><p><code>reduction env ctx red te</code> checks first that <code>te</code> is well-typed then reduces it according to the reduction configuration <code>red</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-are_convertible" class="anchored"><a href="#val-are_convertible" class="anchor"></a><code><span><span class="keyword">val</span> are_convertible : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?ctx:<a href="../../../../Kernel/Term/index.html#type-typed_context">Kernel.Term.typed_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>are_convertible env ctx tl tr</code> checks first that <code>tl</code> <code>tr</code> have the same type, and then that they are convertible</p></div></div><div class="odoc-spec"><div class="spec value" id="val-unsafe_reduction" class="anchored"><a href="#val-unsafe_reduction" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_reduction : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>?red:<a href="../../../../Kernel/Reduction/index.html#type-red_cfg">Kernel.Reduction.red_cfg</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../../Kernel/Term/index.html#type-term">Kernel.Term.term</a></span></code></div><div class="spec-doc"><p><code>unsafe_reduction env red te</code> reduces <code>te</code> according to the reduction configuration <code>red</code>. It is unsafe in the sense that <code>te</code> is not type checked first.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-errors_in_snf" class="anchored"><a href="#val-errors_in_snf" class="anchor"></a><code><span><span class="keyword">val</span> errors_in_snf : <span>bool <span class="xref-unresolved">Stdlib</span>.ref</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-fail_env_error" class="anchored"><a href="#val-fail_env_error" class="anchor"></a><code><span><span class="keyword">val</span> fail_env_error : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../../../Kernel/Basic/index.html#type-loc">Kernel.Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span>exn <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div></div></body></html>