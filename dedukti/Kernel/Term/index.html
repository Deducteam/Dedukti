<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Term (dedukti.Kernel.Term)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">dedukti</a> &#x00BB; <a href="../index.html">Kernel</a> &#x00BB; Term</nav><header class="odoc-preamble"><h1>Module <code><span>Kernel.Term</span></code></h1><p>Lambda terms</p></header><nav class="odoc-toc"><ul><li><a href="#terms">Terms</a></li><li><a href="#contexts">Contexts</a></li></ul></nav><div class="odoc-content"><h3 id="terms"><a href="#terms" class="anchor"></a>Terms</h3><div class="odoc-spec"><div class="spec type" id="type-term" class="anchored"><a href="#type-term" class="anchor"></a><code><span><span class="keyword">type</span> term</span><span> = <span class="keyword">private</span> </span></code><table><tr id="type-term.Kind" class="anchored"><td class="def variant constructor"><a href="#type-term.Kind" class="anchor"></a><code><span>| </span><span><span class="constructor">Kind</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Kind</p><span class="comment-delim">*)</span></td></tr><tr id="type-term.Type" class="anchored"><td class="def variant constructor"><a href="#type-term.Type" class="anchor"></a><code><span>| </span><span><span class="constructor">Type</span> <span class="keyword">of</span> <a href="../Basic/index.html#type-loc">Basic.loc</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Type</p><span class="comment-delim">*)</span></td></tr><tr id="type-term.DB" class="anchored"><td class="def variant constructor"><a href="#type-term.DB" class="anchor"></a><code><span>| </span><span><span class="constructor">DB</span> <span class="keyword">of</span> <a href="../Basic/index.html#type-loc">Basic.loc</a> * <a href="../Basic/index.html#type-ident">Basic.ident</a> * int</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>deBruijn indices</p><span class="comment-delim">*)</span></td></tr><tr id="type-term.Const" class="anchored"><td class="def variant constructor"><a href="#type-term.Const" class="anchor"></a><code><span>| </span><span><span class="constructor">Const</span> <span class="keyword">of</span> <a href="../Basic/index.html#type-loc">Basic.loc</a> * <a href="../Basic/index.html#type-name">Basic.name</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Global variable</p><span class="comment-delim">*)</span></td></tr><tr id="type-term.App" class="anchored"><td class="def variant constructor"><a href="#type-term.App" class="anchor"></a><code><span>| </span><span><span class="constructor">App</span> <span class="keyword">of</span> <a href="#type-term">term</a> * <a href="#type-term">term</a> * <span><a href="#type-term">term</a> list</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>f a1 <code> a2 ; ... ; an </code> , f not an App</p><span class="comment-delim">*)</span></td></tr><tr id="type-term.Lam" class="anchored"><td class="def variant constructor"><a href="#type-term.Lam" class="anchor"></a><code><span>| </span><span><span class="constructor">Lam</span> <span class="keyword">of</span> <a href="../Basic/index.html#type-loc">Basic.loc</a> * <a href="../Basic/index.html#type-ident">Basic.ident</a> * <span><a href="#type-term">term</a> option</span> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Lambda abstraction</p><span class="comment-delim">*)</span></td></tr><tr id="type-term.Pi" class="anchored"><td class="def variant constructor"><a href="#type-term.Pi" class="anchor"></a><code><span>| </span><span><span class="constructor">Pi</span> <span class="keyword">of</span> <a href="../Basic/index.html#type-loc">Basic.loc</a> * <a href="../Basic/index.html#type-ident">Basic.ident</a> * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Pi abstraction</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_term" class="anchored"><a href="#val-pp_term" class="anchor"></a><code><span><span class="keyword">val</span> pp_term : <span><a href="#type-term">term</a> <a href="../Basic/index.html#type-printer">Basic.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_loc" class="anchored"><a href="#val-get_loc" class="anchor"></a><code><span><span class="keyword">val</span> get_loc : <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Basic/index.html#type-loc">Basic.loc</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_Kind" class="anchored"><a href="#val-mk_Kind" class="anchor"></a><code><span><span class="keyword">val</span> mk_Kind : <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_Type" class="anchored"><a href="#val-mk_Type" class="anchor"></a><code><span><span class="keyword">val</span> mk_Type : <span><a href="../Basic/index.html#type-loc">Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_DB" class="anchored"><a href="#val-mk_DB" class="anchor"></a><code><span><span class="keyword">val</span> mk_DB : <span><a href="../Basic/index.html#type-loc">Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Basic/index.html#type-ident">Basic.ident</a> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_Const" class="anchored"><a href="#val-mk_Const" class="anchor"></a><code><span><span class="keyword">val</span> mk_Const : <span><a href="../Basic/index.html#type-loc">Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Basic/index.html#type-name">Basic.name</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_Lam" class="anchored"><a href="#val-mk_Lam" class="anchor"></a><code><span><span class="keyword">val</span> mk_Lam : <span><a href="../Basic/index.html#type-loc">Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Basic/index.html#type-ident">Basic.ident</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-term">term</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_App" class="anchored"><a href="#val-mk_App" class="anchor"></a><code><span><span class="keyword">val</span> mk_App : <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-term">term</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_App2" class="anchored"><a href="#val-mk_App2" class="anchor"></a><code><span><span class="keyword">val</span> mk_App2 : <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-term">term</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_Pi" class="anchored"><a href="#val-mk_Pi" class="anchor"></a><code><span><span class="keyword">val</span> mk_Pi : <span><a href="../Basic/index.html#type-loc">Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Basic/index.html#type-ident">Basic.ident</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_Arrow" class="anchored"><a href="#val-mk_Arrow" class="anchor"></a><code><span><span class="keyword">val</span> mk_Arrow : <span><a href="../Basic/index.html#type-loc">Basic.loc</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-add_n_lambdas" class="anchored"><a href="#val-add_n_lambdas" class="anchor"></a><code><span><span class="keyword">val</span> add_n_lambdas : <span>int <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div><div class="spec-doc"><p><code>add_n_lambdas n t</code> returns the term <code>t</code> with <code>n</code> (extra) anonymous lambda abstraction. Doesn't shift free variables of <code>t</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-term_eq" class="anchored"><a href="#val-term_eq" class="anchor"></a><code><span><span class="keyword">val</span> term_eq : <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>term_eq t t'</code> is <code>true</code> if <code>t</code> = <code>t'</code> (up to alpha equivalence)</p></div></div><div class="odoc-spec"><div class="spec type" id="type-position" class="anchored"><a href="#type-position" class="anchor"></a><code><span><span class="keyword">type</span> position</span><span> = <span>int list</span></span></code></div><div class="spec-doc"><p>Position in a term</p></div></div><div class="odoc-spec"><div class="spec exception" id="exception-InvalidSubterm" class="anchored"><a href="#exception-InvalidSubterm" class="anchor"></a><code><span><span class="keyword">exception</span> </span><span><span class="exception">InvalidSubterm</span> <span class="keyword">of</span> <a href="#type-term">term</a> * int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-subterm" class="anchored"><a href="#val-subterm" class="anchor"></a><code><span><span class="keyword">val</span> subterm : <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-position">position</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div><div class="spec-doc"><p><code>subterm t p</code> returns the subterm of <code>t</code> at position <code>p</code>. Raises InvalidSubterm in case of invalid position in given term.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-comparator" class="anchored"><a href="#type-comparator" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a comparator</span></span><span> = <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Type for comparison functions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_term" class="anchored"><a href="#val-compare_term" class="anchor"></a><code><span><span class="keyword">val</span> compare_term : <span><span><a href="../Basic/index.html#type-name">Basic.name</a> <a href="#type-comparator">comparator</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <a href="#type-comparator">comparator</a></span></span></code></div><div class="spec-doc"><p>compare_term <code>id_comp</code> <code>t</code> <code>t'</code> compares both terms (up to alpha equivalence). * The order relation goes : * Kind &lt; Type &lt; Const &lt; DB &lt; App &lt; Lam &lt; Pi * Besides * Const m v &lt; Const m' v' iif (m,v) &lt; (m',v') * DB n &lt; DB n' iif n &lt; n' * App f a args &lt; App f' a' args' iif (f,a,args) &lt; (f',a',args') * Lam x ty t &lt; Lam x' ty' t' iif t &lt; t' * Pi x a b &lt; Pi x' a' b' iif (a,b) &lt; (a',b')</p></div></div><div class="odoc-spec"><div class="spec type" id="type-algebra" class="anchored"><a href="#type-algebra" class="anchor"></a><code><span><span class="keyword">type</span> algebra</span><span> = </span></code><table><tr id="type-algebra.Free" class="anchored"><td class="def variant constructor"><a href="#type-algebra.Free" class="anchor"></a><code><span>| </span><span><span class="constructor">Free</span></span></code></td></tr><tr id="type-algebra.AC" class="anchored"><td class="def variant constructor"><a href="#type-algebra.AC" class="anchor"></a><code><span>| </span><span><span class="constructor">AC</span></span></code></td></tr><tr id="type-algebra.ACU" class="anchored"><td class="def variant constructor"><a href="#type-algebra.ACU" class="anchor"></a><code><span>| </span><span><span class="constructor">ACU</span> <span class="keyword">of</span> <a href="#type-term">term</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>Symbols' algebra</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-is_AC" class="anchored"><a href="#val-is_AC" class="anchor"></a><code><span><span class="keyword">val</span> is_AC : <span><a href="#type-algebra">algebra</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return true iff given algebra is AC or ACU.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-cstr" class="anchored"><a href="#type-cstr" class="anchor"></a><code><span><span class="keyword">type</span> cstr</span><span> = int * <a href="#type-term">term</a> * <a href="#type-term">term</a></span></code></div><div class="spec-doc"><p>Constraints <code>(n,t,u)</code> are <code>t</code>=<code>u</code> under <code>n</code> lambdas</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_cstr" class="anchored"><a href="#val-pp_cstr" class="anchor"></a><code><span><span class="keyword">val</span> pp_cstr : <span><a href="#type-cstr">cstr</a> <a href="../Basic/index.html#type-printer">Basic.printer</a></span></span></code></div></div><h3 id="contexts"><a href="#contexts" class="anchor"></a>Contexts</h3><div class="odoc-spec"><div class="spec type" id="type-context" class="anchored"><a href="#type-context" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a context</span></span><span> = <span><span>(<a href="../Basic/index.html#type-loc">Basic.loc</a> * <a href="../Basic/index.html#type-ident">Basic.ident</a> * <span class="type-var">'a</span>)</span> list</span></span></code></div><div class="spec-doc"><p>General context: variables have abstract annotations</p></div></div><div class="odoc-spec"><div class="spec type" id="type-partially_typed_context" class="anchored"><a href="#type-partially_typed_context" class="anchor"></a><code><span><span class="keyword">type</span> partially_typed_context</span><span> = <span><span><a href="#type-term">term</a> option</span> <a href="#type-context">context</a></span></span></code></div><div class="spec-doc"><p>Partially annotated context: as generated at rule parsing</p></div></div><div class="odoc-spec"><div class="spec type" id="type-typed_context" class="anchored"><a href="#type-typed_context" class="anchor"></a><code><span><span class="keyword">type</span> typed_context</span><span> = <span><a href="#type-term">term</a> <a href="#type-context">context</a></span></span></code></div><div class="spec-doc"><p>Fully type annotated context: as generated by type checking</p></div></div><div class="odoc-spec"><div class="spec type" id="type-arity_context" class="anchored"><a href="#type-arity_context" class="anchor"></a><code><span><span class="keyword">type</span> arity_context</span><span> = <span>int <a href="#type-context">context</a></span></span></code></div><div class="spec-doc"><p>Arity annotated context: used for rewriting in untyped setting</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_untyped_context" class="anchored"><a href="#val-pp_untyped_context" class="anchor"></a><code><span><span class="keyword">val</span> pp_untyped_context : <span><span><span class="type-var">'a</span> <a href="#type-context">context</a></span> <a href="../Basic/index.html#type-printer">Basic.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_typed_context" class="anchored"><a href="#val-pp_typed_context" class="anchor"></a><code><span><span class="keyword">val</span> pp_typed_context : <span><a href="#type-typed_context">typed_context</a> <a href="../Basic/index.html#type-printer">Basic.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_part_typed_context" class="anchored"><a href="#val-pp_part_typed_context" class="anchor"></a><code><span><span class="keyword">val</span> pp_part_typed_context : <span><a href="#type-partially_typed_context">partially_typed_context</a> <a href="../Basic/index.html#type-printer">Basic.printer</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-rename_vars_with_typed_context" class="anchored"><a href="#val-rename_vars_with_typed_context" class="anchor"></a><code><span><span class="keyword">val</span> rename_vars_with_typed_context : <span><a href="#type-typed_context">typed_context</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-term">term</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-term">term</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-depthed" class="anchored"><a href="#type-depthed" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a depthed</span></span><span> = int * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>(<code>n</code>, <code>t</code>) represents the term represented by <code>t</code> * (whichever its representation) under <code>n</code> lambda abstractions.</p></div></div></div></body></html>